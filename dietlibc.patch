Index: Makefile
===================================================================
RCS file: /cvs/dietlibc/Makefile,v
retrieving revision 1.191
diff -r1.191 Makefile
11c11,13
< MYARCH:=$(shell uname -m | sed -e 's/i[4-9]86/i386/' -e 's/armv[3-6]t\?e\?[lb]/arm/')
---
> #MYARCH:=$(shell uname -m | sed -e 's/i[4-9]86/i386/' -e 's/armv[3-6]t\?e\?[lb]/arm/')
> 
> MYARCH=arm
91c93
< WHAT=	$(OBJDIR) $(OBJDIR)/start.o $(OBJDIR)/dyn_start.o $(OBJDIR)/dyn_stop.o \
---
> WHAT=	$(OBJDIR) \
94,97c96
< 	$(OBJDIR)/librpc.a $(OBJDIR)/libpthread.a \
< 	$(OBJDIR)/libcrypt.a \
< 	$(OBJDIR)/diet $(OBJDIR)/diet-i $(OBJDIR)/elftrunc \
< 	$(OBJDIR)/dnsd
---
> 	$(OBJDIR)/libcrypt.a
104c103
< CROSS=
---
> CROSS=arm-elf-
111c110
< SYSCALLOBJ=$(patsubst syscalls.s/%.S,$(OBJDIR)/%.o,$(wildcard syscalls.s/*.S))
---
> SYSCALLOBJ=#$(patsubst syscalls.s/%.S,$(OBJDIR)/%.o,$(wildcard syscalls.s/*.S))
202c201
< $(OBJDIR)/dietlibc.a: $(DIETLIBC_OBJ) $(OBJDIR)/start.o
---
> $(OBJDIR)/dietlibc.a: $(DIETLIBC_OBJ)
529c528
< 	$(CROSS)$(CC) $(INC) $(CFLAGS) -c lib/stackgap.c -o $@ -D__dietlibc__ -fno-stack-protector
---
> 	$(CROSS)$(CC) $(INC) $(CFLAGS) -c lib/stackgap.c -o $@ -D__dietlibc__ # -fno-stack-protector
Index: dietfeatures.h
===================================================================
RCS file: /cvs/dietlibc/dietfeatures.h,v
retrieving revision 1.69
diff -r1.69 dietfeatures.h
6,8c6,8
< #define WANT_FLOATING_POINT_IN_PRINTF
< #define WANT_FLOATING_POINT_IN_SCANF
< #define WANT_CHARACTER_CLASSES_IN_SCANF
---
> /* #define WANT_FLOATING_POINT_IN_PRINTF */
> /* #define WANT_FLOATING_POINT_IN_SCANF */
> /* #define WANT_CHARACTER_CLASSES_IN_SCANF */
23c23
< #define SLASH_PROC_OK
---
> /* #define SLASH_PROC_OK */
26c26
< #define WANT_THREAD_SAFE
---
> /* #define WANT_THREAD_SAFE */
29c29
< #define WANT_TLS
---
> /* #define WANT_TLS */
35c35
< #define WANT_LD_SO_GDB_SUPPORT
---
> /* #define WANT_LD_SO_GDB_SUPPORT */
47c47
< #define WANT_SYSENTER
---
> /* #define WANT_SYSENTER */
53c53
< #define WANT_LARGEFILE_BACKCOMPAT
---
> /* #define WANT_LARGEFILE_BACKCOMPAT */
57c57
< #define WANT_TZFILE_PARSER
---
> /* #define WANT_TZFILE_PARSER */
62c62
< #define WANT_FULL_RESOLV_CONF
---
> /* #define WANT_FULL_RESOLV_CONF */
65c65
< #define WANT_IPV6_DNS
---
> /* #define WANT_IPV6_DNS */
68c68
< #define WANT_ETC_HOSTS
---
> /* #define WANT_ETC_HOSTS */
90c90
< #define WANT_PLUGPLAY_DNS
---
> /* #define WANT_PLUGPLAY_DNS */
94c94
< #define WANT_LLMNR
---
> /* #define WANT_LLMNR */
100c100
< #define WANT_VALGRIND_SUPPORT
---
> /* #define WANT_VALGRIND_SUPPORT */
Index: arm/Makefile.add
===================================================================
RCS file: /cvs/dietlibc/arm/Makefile.add,v
retrieving revision 1.9
diff -r1.9 Makefile.add
5c5
< CFLAGS+=-mabi=aapcs-linux -mfloat-abi=soft -mno-thumb-interwork
---
> CFLAGS+=-mfloat-abi=soft -mno-thumb-interwork
